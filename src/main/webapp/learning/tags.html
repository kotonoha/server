<!DOCTYPE html>
<!--
  ~ Copyright 2012-2013 eiennohito
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<html>
<body class="lift:content_id=main">
<div id="main" class="lift:surround?with=default;at=content">
  <head_merge>
    <script class="lift:cpres.ng?src=tags/prio"></script>
  </head_merge>
  <div class="lift:comet?type=TagPriorityActor"></div>
  <div ng-controller="Tags">
    <h4>Your tag usage and priorities for new words</h4>
    <div class="form-inline">
      <label class="col-xs">Filter: </label>
      <input type="text" class="distance form-control col-xs-4" ng-model="filter.tag">
    </div>
    <table class="table">
      <thead>
      <tr>
        <td>Tag</td>
        <td>Usage</td>
        <td>Priority</td>
        <td title="Upper limit for words with this tag per day.">Limit</td>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="tag in tags | filter:filter">
        <td><span class="form-control-static" ng-bind="::tag.tag"></span></td>
        <td><span class="form-control-static" ng-bind="::tag.usage"></span></td>
        <td>
          <select class="form-control" ng-model="tag.priority" ng-options="x.value as x.name for x in priorities"
                  ng-change="fixLimit(tag)"></select>
        </td>
        <td>
          <input class="form-control" type="number" ng-model="tag.limit">
        </td>
      </tr>
      </tbody>
    </table>
    <button class="btn" ng-click="save()">Save</button>
  </div>
</div>
</body>
</html>

